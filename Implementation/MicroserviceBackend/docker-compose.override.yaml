services:
  auth-svc:
    build:
      context: ./AuthenticationService
      target: dev
    command: npm run dev
    volumes:
      - ./AuthenticationService/src:/usr/src/app/src
      - ./AuthenticationService/src/prisma:/usr/src/app/src/prisma
      - /usr/src/app/node_modules        # keeps container’s Linux binaries

  user-svc:
    build:
      context: ./UserService
      target: dev
    command: npm run dev
    volumes:
      - ./UserService/src:/usr/src/app/src
      - ./UserService/src/prisma:/usr/src/app/src/prisma
      - /usr/src/app/node_modules        # keeps container’s Linux binaries
  
  client-svc:
    build:
      context: ./ClientService
      target: dev
    command: npm run dev
    volumes:
      - ./ClientService/src:/usr/src/app/src
      - ./ClientService/src/prisma:/usr/src/app/src/prisma
      - /usr/src/app/node_modules   
      
  network-svc:
    build:
      context: ./ClientNetworkService
      target: dev
    command: npm run dev
    volumes:
      - ./ClientNetworkService/src:/usr/src/app/src
      - ./ClientNetworkService/src/prisma:/usr/src/app/src/prisma
      - /usr/src/app/node_modules      # keeps container’s Linux binaries

  gateway-svc:
    build:
      context: ./APIGateway
      target: dev
    command: npm run dev
    volumes:
      - ./APIGateway/src:/usr/src/app/src
      - ./APIGateway/src/prisma:/usr/src/app/src/prisma
      - /usr/src/app/node_modules      # keeps container’s Linux binaries

  